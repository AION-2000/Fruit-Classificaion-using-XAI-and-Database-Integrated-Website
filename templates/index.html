<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Neural Fruit Classifier</title>
    <link rel="stylesheet" href="/static/css/style.css">
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Rajdhani:wght@300;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <!-- Background Effects -->
    <div class="neural-bg">
        <div class="circuit-lines"></div>
        <div class="floating-particles">
            <div class="particle"></div>
            <div class="particle"></div>
            <div class="particle"></div>
            <div class="particle"></div>
            <div class="particle"></div>
        </div>
    </div>
    <!-- Main Container -->
    <div class="container">
        <!-- Header Section -->
        <header class="header">
            <h1 class="glitch-text">NEURAL FRUIT CLASSIFIER</h1>
            <div class="subtitle">
                <span class="typing-text">AI-Powered Fruit Identification System</span>
                <div class="status-indicator">
                    <span class="pulse-dot"></span>
                    <span>SYSTEM ONLINE</span>
                </div>
            </div>
        </header>
        <!-- Upload Section -->
        <section class="upload-section">
            <div class="upload-container glass-effect">
                <!-- Upload Area -->
                <div class="upload-area" id="dropZone">
                    <div class="upload-icon">
                        <i class="fas fa-cloud-upload-alt"></i>
                    </div>
                    <h3>UPLOAD FRUIT IMAGE</h3>
                    <p>Drag & drop or click to browse</p>
                    <div class="file-types">
                        <span>SUPPORTED: JPG, PNG, JPEG</span>
                    </div>
                    <label for="fileInput" class="cyber-btn">
                        <span>SELECT FILE</span>
                        <div class="btn-glow"></div>
                    </label>
                    <input type="file" id="fileInput" accept="image/*">
                </div>
                <!-- Preview Container (Initially Hidden) -->
                <div class="preview-container" id="previewContainer">
                    <div class="image-frame">
                        <img id="imagePreview" src="" alt="Preview">
                        <div class="scan-overlay"></div>
                    </div>
                    <button id="classifyBtn" class="analyze-btn">
                        <i class="fas fa-brain"></i>
                        <span>ANALYZE FRUIT</span>
                        <div class="btn-glow"></div>
                    </button>
                </div>
            </div>
        </section>
        <!-- Result Section (Initially Hidden) -->
        <section class="result-section" id="resultContainer">
            <div class="result-container glass-effect">
                <div class="result-header">
                    <h2>ANALYSIS COMPLETE</h2>
                    <div class="result-timestamp">
                        <i class="fas fa-clock"></i>
                        <span id="timestamp"></span>
                    </div>
                </div>
                
                <div class="result-content">
                    <div class="fruit-identity">
                        <div class="identity-card">
                            <div class="card-icon">
                                <i id="fruitIcon" class="fas fa-apple-alt"></i>
                            </div>
                            <div class="card-details">
                                <h3 id="fruitClass">DETECTING...</h3>
                                <div class="confidence-meter">
                                    <div class="confidence-bar">
                                        <div id="confidenceBar" class="confidence-fill"></div>
                                    </div>
                                    <span id="confidence">CALCULATING...</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="neural-network">
                        <div class="network-nodes">
                            <div class="node"></div>
                            <div class="node"></div>
                            <div class="node"></div>
                            <div class="node"></div>
                            <div class="node"></div>
                        </div>
                        <div class="network-labels">
                            <span>INPUT</span>
                            <span>CONV</span>
                            <span>POOL</span>
                            <span>DENSE</span>
                            <span>OUTPUT</span>
                        </div>
                    </div>
                </div>
                
                <div class="action-buttons">
                    <button id="viewGradcamBtn" class="cyber-btn">
                        <i class="fas fa-fire"></i>
                        <span>VIEW HEATMAP</span>
                    </button>
                    <button id="resetBtn" class="cyber-btn secondary">
                        <i class="fas fa-redo"></i>
                        <span>RESTART ANALYSIS</span>
                    </button>
                    <button class="cyber-btn">
                        <i class="fas fa-download"></i>
                        <span>EXPORT REPORT</span>
                    </button>
                </div>
            </div>
        </section>
        
        <!-- Grad-CAM Section (Initially Hidden) -->
        <section class="gradcam-section" id="gradcamContainer">
            <div class="gradcam-container glass-effect">
                <div class="gradcam-header">
                    <h2>NEURAL HEATMAP VISUALIZATION</h2>
                    <div class="gradcam-subtitle">
                        <span>GRADIENT-WEIGHTED CLASS ACTIVATION MAPPING</span>
                    </div>
                </div>
                
                <div class="gradcam-tabs">
                    <button class="gradcam-tab active" data-tab="original">
                        <i class="fas fa-image"></i>
                        <span>ORIGINAL</span>
                    </button>
                    <button class="gradcam-tab" data-tab="heatmap">
                        <i class="fas fa-fire"></i>
                        <span>HEATMAP</span>
                    </button>
                    <button class="gradcam-tab" data-tab="overlay">
                        <i class="fas fa-layer-group"></i>
                        <span>OVERLAY</span>
                    </button>
                </div>
                
                <div class="gradcam-content">
                    <div class="gradcam-tab-content active" id="original-tab">
                        <div class="image-frame">
                            <img id="originalImage" src="" alt="Original Image">
                            <div class="scan-overlay"></div>
                        </div>
                        <div class="image-caption">
                            <h3>ORIGINAL INPUT</h3>
                            <p>Raw image fed to the neural network</p>
                        </div>
                    </div>
                    
                    <div class="gradcam-tab-content" id="heatmap-tab">
                        <div class="image-frame">
                            <img id="heatmapImage" src="" alt="Heatmap">
                            <div class="pulse-overlay"></div>
                        </div>
                        <div class="image-caption">
                            <h3>ACTIVATION HEATMAP</h3>
                            <p>Regions that influenced the classification decision</p>
                        </div>
                    </div>
                    
                    <div class="gradcam-tab-content" id="overlay-tab">
                        <div class="image-frame">
                            <img id="overlayImage" src="" alt="Overlay">
                            <div class="grid-overlay"></div>
                        </div>
                        <div class="image-caption">
                            <h3>OVERLAY VISUALIZATION</h3>
                            <p>Heatmap superimposed on the original image</p>
                        </div>
                    </div>
                </div>
                
                <div class="gradcam-explanation">
                    <div class="explanation-card">
                        <div class="card-icon">
                            <i class="fas fa-brain"></i>
                        </div>
                        <div class="card-content">
                            <h3>HOW IT WORKS</h3>
                            <p>Grad-CAM highlights the regions in the image that were most important for the neural network's decision. Red areas indicate high influence, while blue areas indicate low influence on the classification result.</p>
                        </div>
                    </div>
                </div>
                
                <div class="action-buttons">
                    <button id="backToResults" class="cyber-btn secondary">
                        <i class="fas fa-arrow-left"></i>
                        <span>BACK TO RESULTS</span>
                    </button>
                    <button id="downloadGradcam" class="cyber-btn">
                        <i class="fas fa-download"></i>
                        <span>DOWNLOAD VISUALIZATION</span>
                    </button>
                </div>
            </div>
        </section>
        
        <!-- Loading Indicator (Initially Hidden) -->
        <div class="loader" id="loader">
            <div class="neural-loader">
                <div class="loader-ring"></div>
                <div class="loader-ring"></div>
                <div class="loader-ring"></div>
            </div>
            <div class="loader-text">
                <p>INITIALIZING NEURAL NETWORK</p>
                <div class="loading-dots">
                    <span></span>
                    <span></span>
                    <span></span>
                </div>
            </div>
        </div>
    </div>
    <!-- Debug Panel (Optional) -->
    <div class="debug-panel">
        <h3>Debug Console</h3>
        <div id="debugLogs"></div>
    </div>
    <!-- JavaScript -->
    <script src="/static/js/script.js"></script>
</body>
</html>